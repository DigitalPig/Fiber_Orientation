{% extends "base.html" %}
{% block content %}
<script src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.0.0/prototype.js" type="text/javascript"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/scriptaculous/1.9.0/scriptaculous.js" type="text/javascript"></script>
 <script type="text/javascript" src={{url_for('static', filename = "scripts/cropper/cropper.js")}} language="javascript"></script>
<script type="text/javascript" language="javascript">
// setup the callback function
    function onEndCrop( coords, dimensions ) {
      $( 'x1' ).value = coords.x1;
      $( 'y1' ).value = coords.y1;
      $( 'x2' ).value = coords.x2;
      $( 'y2' ).value = coords.y2;
      $( 'width' ).value = dimensions.width;
      $( 'height' ).value = dimensions.height;
    }

    // relative example
    Event.observe(
      window,
      'load',
      function() {
        new Cropper.Img(
          'testImage',
          {
            onEndCrop: onEndCrop
          }
        )
      }
    );
</script>

<div id="test-relative">
<h2>Relative test</h2>
<div class="picture">
  <p> Here is the picture that you just uploaded. Please use the mouse to crop
  it to contain the region that you want the line detection algorithm to
  work. The program pops up the dimension data for you automatically. After you
  are done, please press submit to continue.
  </p>
  <img src="{{ url_for('static',filename='images/'+image)}}"
alt="Test image" id="testImage" />
</div>
<form action="" method="post">
<p>
<label for="x1">x1:</label>
<input type="text" name="x1" id="x1" />
</p>
<p>
<label for="y1">y1:</label>
<input type="text" name="y1" id="y1" />
</p>
<p>
<label for="x2">x2:</label>
<input type="text" name="x2" id="x2" />
</p>
<p>
<label for="y2">y2:</label>
<input type="text" name="y2" id="y2" />
</p>
<p>
<label for="width">width:</label>
<input type="text" name="width" id="width" />
</p>
<p>
<label for="height">height</label>
<input type="text" name="height" id="height" />
</p>
<p>
<input type="submit" value="submit">
</p>
</form>
</div>

{% endblock %}
